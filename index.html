<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SoccerTR Lig Paketleri & Antrenman</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #022c43, #38a3a5);
    color: #e0f7fa;
    margin: 0; padding: 20px;
    user-select: none; /* Metin seçimi kapalı */
  }
  header {
    text-align: center;
    font-size: 2.8rem;
    font-weight: 900;
    margin-bottom: 15px;
    text-shadow: 0 0 10px #00bcd4;
  }
  #coinDisplay {
    font-weight: 700;
    font-size: 1.5rem;
    margin-bottom: 20px;
    text-align: center;
    text-shadow: 0 0 6px #00bcd4;
  }
  #menu {
    display: flex;
    justify-content: center;
    gap: 12px;
    margin-bottom: 20px;
  }
  #menu button {
    background: #00796b;
    border: none;
    padding: 12px 22px;
    border-radius: 30px;
    color: #b2dfdb;
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 0 0 10px #004d40aa;
    transition: background-color 0.3s ease;
  }
  #menu button.active,
  #menu button:hover {
    background: #00bfa5;
    color: #004d40;
    box-shadow: 0 0 18px #00bfa5;
  }
  main {
    max-width: 900px;
    margin: auto;
    background: rgba(0, 77, 64, 0.7);
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 0 25px #004d40bb;
  }
  section {
    display: none;
  }
  section.active {
    display: block;
  }

  /* Paket açma bölümü */
  #packSection {
    text-align: center;
    margin-bottom: 25px;
  }
  #ligSelect {
    font-size: 1rem;
    padding: 8px 14px;
    border-radius: 8px;
    border: none;
    margin-right: 15px;
    background: #004d40;
    color: #b2dfdb;
    cursor: pointer;
  }
  #openPackBtn {
    background: #00bfa5;
    border: none;
    padding: 10px 22px;
    border-radius: 30px;
    font-weight: 700;
    color: #004d40;
    cursor: pointer;
    box-shadow: 0 0 15px #00bfa5;
    transition: background-color 0.3s ease;
  }
  #openPackBtn:disabled {
    background: #00796b;
    cursor: not-allowed;
    box-shadow: none;
  }
  #packMessage {
    margin-top: 18px;
    font-weight: 700;
    font-size: 1.25rem;
    min-height: 32px;
    color: #ffd54f;
    animation: glowPack 3s ease-in-out forwards;
  }
  @keyframes glowPack {
    0%, 100% { text-shadow: 0 0 8px #ffd54f; }
    50% { text-shadow: 0 0 22px #ffa000; }
  }

  /* Oyuncular listesi */
  ul {
    list-style: none;
    padding: 0;
  }
  li.playerItem {
    background: #004d40cc;
    margin-bottom: 10px;
    padding: 10px 14px;
    border-radius: 12px;
    display: flex;
    justify-content: space-between;
    font-weight: 600;
    box-shadow: inset 0 0 8px #00bfa599;
    user-select: none;
  }

  /* Antrenman bölümü */
  #trainingSection button {
    margin-top: 15px;
    margin-right: 10px;
    background: #00bfa5;
    border: none;
    padding: 10px 18px;
    border-radius: 30px;
    font-weight: 700;
    color: #004d40;
    cursor: pointer;
    box-shadow: 0 0 15px #00bfa5;
    transition: background-color 0.3s ease;
  }
  #trainingSection button:disabled {
    background: #00796b;
    cursor: not-allowed;
    box-shadow: none;
  }
  #trainingMessage {
    margin-top: 15px;
    font-weight: 700;
    min-height: 26px;
    color: #ffd54f;
  }

</style>
</head>
<body>

<header>SoccerTR Lig Paketleri & Antrenman</header>
<div id="coinDisplay">Coin: <span id="coinCount">100</span></div>

<div id="menu">
  <button id="btnPack" class="active">Paket Aç</button>
  <button id="btnPlayers">Oyuncular</button>
  <button id="btnTraining">Antrenman</button>
</div>

<main>
  <!-- Paket Açma Bölümü -->
  <section id="packSection" class="active">
    <select id="ligSelect" title="Lig Paketi Seç">
      <option value="">Lig Seç</option>
      <option value="Bundesliga">Bundesliga</option>
      <option value="Premier Lig">Premier Lig</option>
      <option value="La Liga">La Liga</option>
      <option value="Ligue 1">Ligue 1</option>
      <option value="Serie A">Serie A</option>
      <option value="Süper Lig">Süper Lig</option>
      <option value="Suudi Pro Lig">Suudi Pro Lig</option>
      <option value="MLS">MLS</option>
    </select>
    <button id="openPackBtn" disabled>Paket Aç (100 Coin)</button>
    <div id="packMessage"></div>
  </section>

  <!-- Oyuncular Listesi -->
  <section id="playersSection">
    <h2>Oyuncularınız</h2>
    <ul id="playersList"></ul>
  </section>

  <!-- Antrenman Bölümü -->
  <section id="trainingSection">
    <h2>Antrenman</h2>
    <p>Normal antrenman ücretsiz, oyuncu antremanı paralı (10 coin).</p>
    <select id="trainingSelect">
      <option value="">Oyuncu Seç</option>
    </select>
    <br>
    <button id="normalTrainBtn" disabled>Normal Antreman (Ücretsiz)</button>
    <button id="paidTrainBtn" disabled>Oyuncu Antremanı (-10 Coin)</button>
    <div id="trainingMessage"></div>
  </section>
</main>

<script>
  // Başlangıç coin
  let coin = 100;

  // Lig paketleri oyuncu havuzları
  const ligPaketleri = {
    "Bundesliga": ["Lewandowski", "Kimmich", "Alaba", "Sancho"],
    "Premier Lig": ["Salah", "De Bruyne", "Sterling", "Rashford"],
    "La Liga": ["Messi", "Benzema", "Hazard", "Gavi"],
    "Ligue 1": ["Mbappé", "Neymar"],
    "Serie A": ["Casemiro", "Verratti"],
    "Süper Lig": ["Fenerbahçe Oyuncusu", "Galatasaray Oyuncusu"],
    "Suudi Pro Lig": ["Suudi Oyuncu 1", "Suudi Oyuncu 2"],
    "MLS": ["MLS Oyuncu 1", "MLS Oyuncu 2"]
  };

  // Oyuncu listesi
  const players = [];

  // ID için sayaç
  let nextId = 1;

  // Coin gösterimi
  function updateCoins() {
    document.getElementById('coinCount').innerText = coin;
  }

  // Menü butonları ve bölümlerin gösterimi
  const btnPack = document.getElementById('btnPack');
  const btnPlayers = document.getElementById('btnPlayers');
  const btnTraining = document.getElementById('btnTraining');

  const packSection = document.getElementById('packSection');
  const playersSection = document.getElementById('playersSection');
  const trainingSection = document.getElementById('trainingSection');

  function showSection(section) {
    packSection.classList.remove('active');
    playersSection.classList.remove('active');
    trainingSection.classList.remove('active');
    btnPack.classList.remove('active');
    btnPlayers.classList.remove('active');
    btnTraining.classList.remove('active');

    if (section === 'pack') {
      packSection.classList.add('active');
      btnPack.classList.add('active');
    } else if (section === 'players') {
      playersSection.classList.add('active');
      btnPlayers.classList.add('active');
      updatePlayersList();
    } else if (section === 'training') {
      trainingSection.classList.add('active');
      btnTraining.classList.add('active');
      updateTrainingSelect();
    }
  }

  btnPack.onclick = () => showSection('pack');
  btnPlayers.onclick = () => showSection('players');
  btnTraining.onclick = () => showSection('training');

  // Lig seçimi ve paket açma butonu kontrolü
  const ligSelect = document.getElementById('ligSelect');
  const openPackBtn = document.getElementById('openPackBtn');
  const packMessage = document.getElementById('packMessage');

  ligSelect.addEventListener('change', () => {
    openPackBtn.disabled = ligSelect.value === "";
    packMessage.innerText = "";
  });

  // Paket açma animasyonu fonksiyonu
  function showPackAnimation(playerName) {
    packMessage.innerHTML = `<div class="pack-animation">Yeni oyuncu geliyor... <br><strong>${playerName}</strong>!</div>`;
    packMessage.style.opacity = '1';
    setTimeout(() => {
      packMessage.style.opacity = '0';
    }, 3500);
  }

  // Paket açma işlemi
  openPackBtn.onclick = () => {
    if (coin < 100) {
      packMessage.innerText = "Yeterli coin yok!";
      return;
    }
    const lig = ligSelect.value;
    const pool = ligPaketleri[lig] || [];
    // Paket açılırken havuzdan henüz olmayan oyuncuları filtrele
    const availablePlayers = pool.filter(name => !players.some(p => p.name === name));
    if (availablePlayers.length === 0) {
      packMessage.innerText = "Seçilen ligde tüm oyuncular zaten var!";
      return;
    }
    coin -= 100;
    updateCoins();

    // Rastgele oyuncu seç
    const randomIndex = Math.floor(Math.random() * availablePlayers.length);
    const newPlayerName = availablePlayers[randomIndex];

    // Yeni oyuncu oluştur (rating rastgele 60-90 arası)
    const newPlayer = {
      id: nextId++,
      name: newPlayerName,
      rating: Math.floor(Math.random() * 31) + 60,
      goals: 0,
      assists: 0
    };
    players.push(newPlayer);

    // Animasyon göster
    showPackAnimation(newPlayerName);

    // Mesajı 3.5 saniye sonra kaldırıyoruz, zaten animasyona bağlı
    setTimeout(() => {
      packMessage.innerText = "";
      updatePlayersList();
      updateTrainingSelect();
    }, 3500);
  };

  // Oyuncular listesini güncelle
  const playersList = document.getElementById('playersList');
  function updatePlayersList() {
    playersList.innerHTML = '';
    if (players.length === 0) {
      playersList.innerHTML = '<li>Hiç oyuncunuz yok. Paket açın!</li>';
      return;
    }
    players.forEach(p => {
      const li = document.createElement('li');
      li.className = 'playerItem';
      li.textContent = `${p.name} | Rating: ${p.rating} | Gol: ${p.goals} | Asist: ${p.assists}`;
      playersList.appendChild(li);
    });
  }

  // Antrenman seçimi ve butonlar
  const trainingSelect = document.getElementById('trainingSelect');
  const normalTrainBtn = document.getElementById('normalTrainBtn');
  const paidTrainBtn = document.getElementById('paidTrainBtn');
  const trainingMessage = document.getElementById('trainingMessage');

  function updateTrainingSelect() {
    trainingSelect.innerHTML = '<option value="">Oyuncu Seç</option>';
    players.forEach(p => {
      const option = document.createElement('option');
      option.value = p.id;
      option.textContent = `${p.name} (Rating: ${p.rating})`;
      trainingSelect.appendChild(option);
    });
    normalTrainBtn.disabled = true;
    paidTrainBtn.disabled = true;
    trainingMessage.innerText = '';
  }

  trainingSelect.addEventListener('change', () => {
    const selected = trainingSelect.value;
    normalTrainBtn.disabled = !selected;
    paidTrainBtn.disabled = !selected || coin < 10;
    trainingMessage.innerText = '';
  });

  // Normal antrenman: rating artar ama gol/asist yok, ücretsiz
  normalTrainBtn.onclick = () => {
    const pid = parseInt(trainingSelect.value);
    const player = players.find(p => p.id === pid);
    if (!player) return;
    // Rating 1-3 arası artar
    const increase = Math.floor(Math.random() * 3) + 1;
    player.rating = Math.min(100, player.rating + increase);
    trainingMessage.style.color = '#4caf50';
    trainingMessage.innerText = `${player.name} normal antrenman yaptı! Rating +${increase} → ${player.rating}`;
    updatePlayersList();
    updateTrainingSelect();
  };

  // Oyuncu antremanı: rating artar, %30 gol, %20 asist, 10 coin gider
  paidTrainBtn.onclick = () => {
    if (coin < 10) {
      trainingMessage.style.color = '#f44336';
      trainingMessage.innerText = "Yeterli coin yok!";
      return;
    }
    const pid = parseInt(trainingSelect.value);
    const player = players.find(p => p.id === pid);
    if (!player) return;

    coin -= 10;
    updateCoins();

    const ratingIncrease = Math.floor(Math.random() * 5) + 2;
    player.rating = Math.min(100, player.rating + ratingIncrease);

    let msg = `${player.name} oyuncu antrenmanı yaptı! Rating +${ratingIncrease} → ${player.rating}`;

    // %30 gol, %20 asist ihtimali
    const rand = Math.random();
    if (rand < 0.3) {
      player.goals++;
      msg += " ⚽ Gol attı!";
    } else if (rand < 0.5) {
      player.assists++;
      msg += " 🎯 Asist yaptı!";
    }

    trainingMessage.style.color = '#ffc107';
    trainingMessage.innerText = msg;
    updatePlayersList();
    updateTrainingSelect();
  };

  // Başlangıçta coin ve listeleri güncelle
  updateCoins();
  updatePlayersList();
  showSection('pack');
</script>

</body>
</html>
