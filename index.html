<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SoccerTR</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body { font-family: sans-serif; margin: 0; padding: 0; background: #f5f5f5; color: #333; }
    header, nav { background: #222; color: white; padding: 1em; text-align: center; }
    nav button { margin: 0.5em; padding: 0.5em 1em; cursor: pointer; }
    .section { display: none; padding: 1em; }
    .section.active { display: block; }
    #coin-display { font-weight: bold; }
    #pack-animation { color: green; font-weight: bold; margin-top: 1em; }
    .player-info { margin: 0.5em 0; padding: 0.5em; border: 1px solid #ccc; background: #fff; }
  </style>
</head>
<body>
  <div id="game-container">
    <header>
      <h1>SoccerTR</h1>
      <div id="coin-display">Coin: <span id="coin">100</span></div>
    </header>
    <nav>
      <button onclick="showSection('roster')">Kadro</button>
      <button onclick="showSection('pack')">Paket Aç</button>
      <button onclick="showSection('training')">Antrenman</button>
      <button onclick="showSection('match')">Maç</button>
      <button onclick="showSection('settings')">Ayarlar</button>
    </nav>
    <main>
      <section id="roster" class="section active">
        <h2>Kadro</h2>
        <div id="first11-list"></div>
        <div id="subs-list"></div>
        <div id="out-list"></div>
        <button onclick="increaseRosterLimit()">+100 Kadro Dışı (100 Coin)</button>
      </section>

      <section id="pack" class="section">
        <h2>Paket Aç</h2>
        <select id="league-select">
          <option value="">Lig Seç</option>
          <option value="premier">Premier Lig</option>
          <option value="laliga">La Liga</option>
          <option value="bundesliga">Bundesliga</option>
          <option value="ligue1">Ligue 1</option>
          <option value="seriea">Serie A</option>
          <option value="superlig">Süper Lig</option>
          <option value="suudi">Suudi Pro Lig</option>
          <option value="mls">MLS</option>
        </select>
        <button onclick="openPack()">Paket Aç (100 Coin)</button>
        <div id="pack-animation" style="display:none">Paket açılıyor...</div>
      </section>

      <section id="training" class="section">
        <h2>Antrenman</h2>
        <select id="player-select"></select>
        <button onclick="normalTraining()">Normal Antrenman (Ücretsiz)</button>
        <button onclick="playerTraining()">Oyuncu Antrenmanı (Ücretsiz)</button>
        <div id="training-msg"></div>
      </section>

      <section id="match" class="section">
        <h2>Maç</h2>
        <button onclick="startMatch()">1v1 Başlat</button>
        <div id="match-msg"></div>
      </section>

      <section id="settings" class="section">
        <h2>Ayarlar</h2>
        <label>Dil:
          <select id="language-select">
            <option>Türkçe</option>
            <option>English</option>
            <option>Español</option>
            <option>Deutsch</option>
            <option>Русский</option>
            <option>Português</option>
          </select>
        </label>
        <label>Tema:
          <select id="theme-select">
            <option>Light</option>
            <option>Dark</option>
          </select>
        </label>
      </section>
    </main>
  </div>

  <script>
    let coin = 100;
    let players = [];
    let first11 = [];
    let subs = [];
    let out = [];
    let rosterLimit = 500;

    const leaguePlayers = {
      premier: ["Kevin De Bruyne", "Erling Haaland"],
      laliga: ["Luka Modric", "Vinicius Jr."],
      bundesliga: ["Jamal Musiala", "Joshua Kimmich"],
      ligue1: ["Kylian Mbappé", "Ousmane Dembélé"],
      seriea: ["Dusan Vlahovic", "Paulo Dybala"],
      superlig: ["Mauro Icardi", "Fred"],
      suudi: ["Cristiano Ronaldo", "Karim Benzema"],
      mls: ["Lionel Messi", "Sergio Busquets"]
    };

    function showSection(id) {
      document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function updateCoinDisplay() {
      document.getElementById("coin").textContent = coin;
    }

    function increaseRosterLimit() {
      if (coin < 100) return alert("Yetersiz coin!");
      coin -= 100;
      rosterLimit += 100;
      updateCoinDisplay();
    }

    function openPack() {
      const league = document.getElementById("league-select").value;
      if (!league || coin < 100) return alert("Lig seçin ve yeterli coin gerek!");
      const pool = leaguePlayers[league];
      const name = pool[Math.floor(Math.random() * pool.length)];
      const player = { name, rating: 70 + Math.floor(Math.random()*20), goals: 0, assists: 0 };
      if (out.length >= rosterLimit) return alert("Kadro dışı dolu!");
      coin -= 100;
      players.push(player);
      out.push(player);
      updateCoinDisplay();
      document.getElementById("pack-animation").style.display = "block";
      setTimeout(() => {
        document.getElementById("pack-animation").textContent = `${player.name} geldi!`;
        updatePlayerSelect();
        renderRosters();
      }, 1500);
    }

    function updatePlayerSelect() {
      const sel = document.getElementById("player-select");
      sel.innerHTML = '';
      players.forEach(p => {
        const opt = document.createElement("option");
        opt.value = p.name;
        opt.textContent = `${p.name} (Rating: ${p.rating})`;
        sel.appendChild(opt);
      });
    }

    function normalTraining() {
      const val = document.getElementById("player-select").value;
      const p = players.find(p => p.name === val);
      if (!p) return;
      p.rating += 1;
      document.getElementById("training-msg").textContent = `${p.name} +1 rating aldı!`;
      renderRosters();
    }

    function playerTraining() {
      const val = document.getElementById("player-select").value;
      const p = players.find(p => p.name === val);
      if (!p) return;
      p.rating += 2;
      p.assists += 1;
      document.getElementById("training-msg").textContent = `${p.name} +2 rating ve 1 asist kazandı!`;
      renderRosters();
    }

    function startMatch() {
      if (first11.length === 0) return alert("İlk 11 boş!");
      document.getElementById("match-msg").textContent = `Maç başladı! Takım rating: ${Math.floor(first11.reduce((a,b)=>a+b.rating,0)/first11.length)}`;
    }

    function renderRosters() {
      document.getElementById("first11-list").innerHTML = "<h3>İlk 11</h3>" + first11.map(p => `<div class='player-info'>${p.name} | Rating: ${p.rating} | G:${p.goals} A:${p.assists}</div>`).join('');
      document.getElementById("subs-list").innerHTML = "<h3>Yedek</h3>" + subs.map(p => `<div class='player-info'>${p.name}</div>`).join('');
      document.getElementById("out-list").innerHTML = "<h3>Kadro Dışı</h3>" + out.map(p => `<div class='player-info'>${p.name}</div>`).join('');
    }

    updateCoinDisplay();
  </script>
</body>
</html>
